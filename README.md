# camsmonitorについて  

RaspberryPiのカメラモジュールを用いた、監視カメラ・映像配信サービスです。  
プロダクトの煩雑化を防ぐため、旧プロジェクト`monitoring`からフォークされました。

## 設定方法  
- k8sに対しては、`manifests/server/overlay`ディレクトリにマニフェストを作成するか、`manifests/server/base`ディレクトリの内容を編集して、クラスタに対して`apply`してください。  
- エッジデバイスに対しては`manifests/client`内のファイルを編集し、コンテナを起動してください。
- docker-hubにイメージは配置していないため、イメージはご自身でビルドしてください。
    - ビルド用Dockerfileは各イメージ名のディレクトリに配置されています。

## config.csvについて  
次のように設定します。
```csv
<デバイス名(DNS名)>,<各セグメントの動画時間>,<映像の回転設定>,<IPアドレス>
```
映像の回転設定は以下のいずれかを指定すること  
- Rotate_0  
    - 時計回り 0度（そのままの映像）
- Rotate_90  
    - 時計回り 90度  
- Rotate_180  
    - 時計回り 180度  
- Rotate_270  
    - 時計回り 270度  

## 設定例  
`<IPアドレス>`については省略可能です。  
```csv
edge01,5,Rotate_0,192.168.3.31
192.168.3.32,10,Rotate_180
```  
